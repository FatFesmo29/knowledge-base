<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Администрирование виртуальных машин</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600&family=Open+Sans:wght@400;600;700&display=swap');
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Open Sans', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      background-color: #f9f9f9;
      color: #333;
      font-size: 14px;
    }
    .container {
      display: flex;
      gap: 20px;
      padding: 20px;
      margin: 0 auto;
      max-width: 100%;
    }
    .sidebar {
      width: 370px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      padding: 20px;
      position: sticky;
      top: 20px;
      height: calc(100vh - 40px);
      overflow-y: auto;
    }
    .sidebar h1 {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 1.8em;
      margin-bottom: 20px;
      color: #2c3e50;
      text-align: center;
      border-bottom: 2px solid #CC2B24;
      padding-bottom: 10px;
    }
    details {
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #fafafa;
      margin-bottom: 8px;
    }
    summary {
      padding: 12px 16px;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      cursor: pointer;
      outline: none;
      background: #f8f9fa;
      border-radius: 6px 6px 0 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 15px;
      color: #2c3e50;
    }
    summary::after {
      content: "▸";
      color: #CC2B24;
      font-size: 1em;
    }
    details[open] > summary::after {
      content: "▾";
    }
    /* Убираем стрелки у трёх специальных пунктов */
    #FAQ-section summary::after,
    #repo-section summary::after,
    #update-section summary::after {
      content: "";
    }
    .nav-sublist {
      list-style: none;
      margin: 0;
      padding: 12px 0 12px 16px;
      background: #fff;
      border-top: 1px solid #eee;
    }
    .nav-subitem {
      margin: 6px 0;
    }
    .nav-sublink {
      display: block;
      padding: 10px 16px;
      text-decoration: none;
      color: #2c3e50;
      background: #fff;
      border: 1px solid #eee;
      border-radius: 4px;
      transition: all 0.2s;
      font-family: 'Open Sans', sans-serif;
      font-size: 14px;
    }
    .nav-sublink:hover,
    .nav-sublink.active {
      background: #fdf7f7;
      border-color: #CC2B24;
      color: #CC2B24;
    }
    .nav-sublink.active {
      font-weight: 700;
    }
    .content {
      flex: 1;
      background: white;
      border: 1px solid #ddd;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      padding: 30px;
      min-height: 100vh;
      font-size: 1.1em;
      color: #666;
      font-family: 'Open Sans', sans-serif;
    }
    .subgroup {
      margin: 8px 0;
      border: none;
      background: transparent;
    }
    .subgroup summary {
      background: #fff;
      border-radius: 4px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 600;
      font-family: 'Open Sans', sans-serif;
    }
    .subgroup .nav-sublist {
      padding-left: 24px;
      border: none;
      background: transparent;
    }
    /* Стили для основного контента */
    .content h2 {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 1.4em;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.3;
    }
    .content p {
      margin: 0 0 16px 0;
      line-height: 1.6;
      color: #555;
    }
    .content ul {
      list-style-type: disc;
      margin: 0 0 16px 24px;
      padding: 0;
    }
    .content li {
      margin: 4px 0;
      line-height: 1.6;
    }
    .alert {
      background-color: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 4px;
      padding: 16px;
      margin: 16px 0;
      font-size: 0.95em;
      color: #856404;
    }
    .alert a {
      color: #cc2b24;
      text-decoration: underline;
    }
    .feedback {
      margin-top: 32px;
      padding: 16px;
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
    }
    .feedback p {
      margin: 0 0 8px 0;
      font-size: 0.9em;
    }
    .feedback button {
      margin-right: 8px;
      padding: 4px 12px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
    }
    .feedback button:hover {
      background: #f0f0f0;
    }
    .last-updated {
      font-size: 0.85em;
      color: #777;
      margin-top: 16px;
    }
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        height: auto;
        position: static;
      }
    }
    /* Верхняя панель */
    .top-header {
      background-color: #1a1a1a;
      padding: 10px 0;
      border-bottom: 1px solid #333;
    }
    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    .logo a {
      text-decoration: none;
      color: white;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .main-nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
    }
    .main-nav li a {
      color: white;
      text-decoration: none;
      font-size: 0.9em;
      font-weight: 600;
      text-transform: uppercase;
      padding: 5px 10px;
      transition: color 0.2s;
    }
    .main-nav li a:hover {
      color: #FF0000;
    }
    .search-icon {
      cursor: pointer;
      padding: 5px;
      border-radius: 4px;
      transition: background 0.2s;
    }
    .search-icon:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    .search-bar {
      max-width: 1200px;
      margin: 10px auto 0;
      padding: 0 20px;
      display: flex;
      gap: 10px;
    }
    .search-bar input {
      flex: 1;
      padding: 8px 12px;
      border: 1px solid #444;
      background: #222;
      color: white;
      border-radius: 4px;
      font-size: 0.9em;
    }
    .search-bar button {
      padding: 8px 12px;
      background: #FF0000;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s;
    }
    .search-bar button:hover {
      background: #cc0000;
    }
    /* Подвал */
    .site-footer {
      background-color: #f5f5f5;
      padding: 40px 20px 20px;
      border-top: 1px solid #ddd;
      margin-top: 40px;
    }
    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
    }
    .footer-col h3,
    .footer-col h4 {
      color: #333;
      font-size: 1rem;
      margin-bottom: 15px;
      font-weight: 600;
    }
    .footer-col ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .footer-col li {
      margin-bottom: 8px;
    }
    .footer-col a {
      color: #666;
      text-decoration: none;
      font-size: 0.9em;
      transition: color 0.2s;
    }
    .footer-col a:hover {
      color: #CC2B24;
    }
    .footer-logo {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 1.4em;
      margin-bottom: 20px;
    }
    .social-links {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .social-icon {
      display: inline-block;
      width: 36px;
      height: 36px;
      background: #e0e0e0;
      color: #333;
      text-align: center;
      line-height: 36px;
      border-radius: 4px;
      font-size: 0.9em;
      transition: background 0.2s;
    }
    .social-icon:hover {
      background: #ccc;
    }
    footer address {
      font-style: normal;
      color: #666;
      margin-bottom: 15px;
      font-size: 0.9em;
    }
    footer .copyright {
      font-size: 0.8em;
      color: #999;
      margin-top: 20px;
    }
    footer .copyright a {
      color: #999;
    }
    footer .copyright a:hover {
      color: #CC2B24;
    }
  </style>
</head>
<body>
  <!-- Верхняя панель -->
  <header class="top-header">
    <div class="header-container">
      <div class="logo">
        <a href="https://red-soft.ru" target="_blank">
          <span style="color: #FF0000; font-weight: bold; font-size: 1.2em;">РЕД</span>
          <span style="color: #FFFFFF; font-size: 0.8em; display: block;">Виртуализация</span>
        </a>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="#">ПРОДУКТЫ</a></li>
          <li><a href="#">ТЕХПОДДЕРЖКА</a></li>
          <li><a href="#">ОБУЧЕНИЕ</a></li>
          <li><a href="#">СОВМЕСТИМОСТЬ</a></li>
          <li><a href="#">ПАРТНЕРАМ</a></li>
          <li><a href="#">НОВОСТИ</a></li>
          <li><a href="#">КОМПАНИЯ</a></li>
        </ul>
      </nav>
      <div class="search-icon" onclick="document.getElementById('searchInput').focus();">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>
    </div>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Воспользуйтесь поиском, чтобы быстро найти нужную информацию..." onkeyup="searchPage()" />
      <button onclick="clearSearchInput()">Очистить</button>
      <button id="searchBtn" onclick="searchPage()">🔍</button>
    </div>
  </header>

  <div class="container">
    <!-- Боковое меню -->
    <aside class="sidebar">
      <h1>РЕД Виртуализация 7.3</h1>
      <details id="install-section">
        <summary>Описание и установка</summary>
        <details id="sec1">
          <summary>1. Описание дистрибутива</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem">
              <a href="#1.1" class="nav-sublink"
                data-title="1.1 Назначение и возможности"
                data-content="«РЕД Виртуализация» позволяет управлять виртуальными машинами через веб-интерфейс, используя для администрирования библиотеку libvirt. В состав «РЕД Виртуализации» входит реализация веб-интерфейса и служб, необходимых для управления виртуальными машинами. «РЕД Виртуализация» представляет собой образ ОС на основе «РЕД ОС», в состав которого включены необходимые пакеты и репозиторий для установки и функционирования системы виртуализации. «РЕД Виртуализация» позволяет создавать масштабируемую кластерную систему виртуализации с распределенной системой контроля ресурсов оборудования и полномочий пользователей. Функции управления виртуальными машинами включают в себя выбор приоритета высокой доступности, живую миграцию, мгновенные снимки в реальном времени, клонирование виртуальных машин из моментальных снимков, создание шаблонов виртуальных машин, использование cloud-init для автоматической настройки во время подготовки и развертывания виртуальных машин. Поддерживаемые гостевые операционные системы включают GNU / Linux, Microsoft Windows и FreeBSD.">
                1.1 Назначение и возможности
              </a>
            </li>
            <li class="nav-subitem"><a href="#1.2" class="nav-sublink">1.2 Глоссарий терминов</a></li>
            <li class="nav-subitem"><a href="#1.3" class="nav-sublink">1.3 Архитектура системы</a></li>
            <li class="nav-subitem"><a href="#1.4" class="nav-sublink">1.4 Состав программного продукта</a></li>
          </ul>
        </details>
        <details id="sec2">
          <summary>2. Системные требования</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#2.1" class="nav-sublink">2.1 Аппаратные требования</a></li>
            <li class="nav-subitem"><a href="#2.2" class="nav-sublink">2.2 Требования к клиентским устройствам</a></li>
            <details class="subgroup">
              <summary>2.3 Требования к гипервизору</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#2.3.1" class="nav-sublink">2.3.1 Центральный процессор</a></li>
                <li class="nav-subitem"><a href="#2.3.2" class="nav-sublink">2.3.2 Оперативная память</a></li>
                <li class="nav-subitem"><a href="#2.3.3" class="nav-sublink">2.3.3 Жёсткие диски</a></li>
                <li class="nav-subitem"><a href="#2.3.4" class="nav-sublink">2.3.4 PCI устройства</a></li>
                <li class="nav-subitem"><a href="#2.3.5" class="nav-sublink">2.3.5 Требования к назначению устройств</a></li>
                <li class="nav-subitem"><a href="#2.3.6" class="nav-sublink">2.3.6 Требования к vGPU</a></li>
                <li class="nav-subitem"><a href="#2.3.7" class="nav-sublink">2.3.7 Требования к сети</a></li>
              </ul>
            </details>
            <li class="nav-subitem"><a href="#2.4" class="nav-sublink">2.4 Ограничения РЕД Виртуализации</a></li>
          </ul>
        </details>
        <details id="sec3">
          <summary>3. Подготовка сетевого хранилища</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#3.1" class="nav-sublink">3.1 Хранилище</a></li>
            <li class="nav-subitem"><a href="#3.2" class="nav-sublink">3.2 Подготовка хранилища NFS</a></li>
            <li class="nav-subitem"><a href="#3.3" class="nav-sublink">3.3 Подготовка хранилища iSCSI</a></li>
            <li class="nav-subitem"><a href="#3.4" class="nav-sublink">3.4 Подготовка хранилища FCP</a></li>
            <li class="nav-subitem"><a href="#3.5" class="nav-sublink">3.5 Подготовка хранилища Gluster Storage</a></li>
          </ul>
        </details>
        <details id="sec4">
          <summary>4. Установка</summary>
          <details class="subgroup">
            <summary>4.1 Установка РЕД Виртуализации</summary>
            <ul class="nav-sublist">
              <li class="nav-subitem"><a href="#4.1.1" class="nav-sublink">4.1.1 Подготовка к установке</a></li>
              <li class="nav-subitem"><a href="#4.1.2" class="nav-sublink">4.1.2 Последовательность установки</a></li>
              <li class="nav-subitem"><a href="#4.1.3" class="nav-sublink">4.1.3 Язык системы</a></li>
              <li class="nav-subitem"><a href="#4.1.4" class="nav-sublink">4.1.4 Обзор установки</a></li>
              <li class="nav-subitem"><a href="#4.1.5" class="nav-sublink">4.1.5 Клавиатура</a></li>
              <li class="nav-subitem"><a href="#4.1.6" class="nav-sublink">4.1.6 Расположение установки</a></li>
              <li class="nav-subitem"><a href="#4.1.7" class="nav-sublink">4.1.7 Задание пароля администратора системы</a></li>
              <li class="nav-subitem"><a href="#4.1.8" class="nav-sublink">4.1.8 Дата и время</a></li>
              <li class="nav-subitem"><a href="#4.1.9" class="nav-sublink">4.1.9 Сеть и имя узла</a></li>
            </ul>
          </details>
          <li class="nav-subitem"><a href="#4.2" class="nav-sublink">4.2 Установка в режиме self-hosted</a></li>
          <li class="nav-subitem"><a href="#4.3" class="nav-sublink">4.3 Установка в режиме standalone</a></li>
          <details class="subgroup">
            <summary>4.4 Развертывание Gluster Hyperconverged</summary>
            <ul class="nav-sublist">
              <li class="nav-subitem"><a href="#4.4.1" class="nav-sublink">4.4.1 Развертывание на узле РЕД Виртуализации</a></li>
              <li class="nav-subitem"><a href="#4.4.2" class="nav-sublink">4.4.2 Установка и настройка томов Gluster</a></li>
            </ul>
          </details>
          <li class="nav-subitem"><a href="#4.5" class="nav-sublink">4.5 Установка РЕД Виртуализации на программный RAID</a></li>
        </details>
      </details>
      <details id="admin_rv-section">
        <summary>Администрирование среды виртуализации</summary>
      </details>
      <details id="admin_vm-section">
        <summary>Администрирование виртуальных машин</summary>
        <details id="sec1">
          <summary>1. Введение</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#1.1" class="nav-sublink">1.1 Описание</a></li>
            <li class="nav-subitem"><a href="#1.2" class="nav-sublink">1.2 Ограничения виртуальных машин</a></li>
            <details class="subgroup">
              <summary>1.3 Установка вспомогательных компонентов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#1.3.1" class="nav-sublink">1.3.1 Установка компонентов консоли</a></li>
                <li class="nav-subitem"><a href="#1.3.2" class="nav-sublink">1.3.2 Установка usbdk в Windows</a></li>
              </ul>
            </details>
            <li class="nav-subitem"><a href="#1.4" class="nav-sublink">1.4 Авторизация на портале</a></li>
            <li class="nav-subitem"><a href="#1.5" class="nav-sublink">1.5 Завершение сеанса на портале</a></li>
          </ul>
        </details>
        <details id="sec2">
          <summary>2. Установка виртуальных машин РЕД ОС</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#2.1" class="nav-sublink">2.1 Описание</a></li>
            <li class="nav-subitem"><a href="#2.2" class="nav-sublink">2.2 Создание виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#2.3" class="nav-sublink">2.3 Запуск виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#2.4" class="nav-sublink">2.4 Открытие консоли для виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#2.5" class="nav-sublink">2.5 Гостевые агенты РЕД Виртуализации, инструменты и драйверы</a></li>
            <li class="nav-subitem"><a href="#2.6" class="nav-sublink">2.6 Установка гостевых агентов и драйверов в РЕД ОС</a></li>
          </ul>
        </details>
        <details id="sec3">
          <summary>3. Установка виртуальных машин Windows</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#3.1" class="nav-sublink">3.1 Описание</a></li>
            <li class="nav-subitem"><a href="#3.2" class="nav-sublink">3.2 Создание виртуальной машины</a></li>
            <details class="subgroup">
              <summary>3.3 Запуск виртуальной машины</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#3.3.1" class="nav-sublink">3.3.1 Установка Windows на оптимизированное для VirtIO оборудование</a></li>
                <li class="nav-subitem"><a href="#3.3.2" class="nav-sublink">3.3.2 Открытие консоли на виртуальной машине</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>3.4 Установка гостевых агентов и драйверов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#3.4.1" class="nav-sublink">3.4.1 Гостевые агенты, инструменты и драйверы</a></li>
                <li class="nav-subitem"><a href="#3.4.2" class="nav-sublink">3.4.2 Установка гостевых агентов, инструментов и драйверов в Windows</a></li>
              </ul>
            </details>
          </ul>
        </details>
        <details id="sec4">
          <summary>4. Дополнительная конфигурация</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#4.1" class="nav-sublink">4.1 Настройка операционных систем с помощью osinfo</a></li>
            <li class="nav-subitem"><a href="#4.2" class="nav-sublink">4.2 Настройка единого входа для виртуальных машин</a></li>
            <li class="nav-subitem"><a href="#4.3" class="nav-sublink">4.3 Настройка USB-устройств</a></li>
            <li class="nav-subitem"><a href="#4.4" class="nav-sublink">4.4 Настройка нескольких мониторов</a></li>
            <li class="nav-subitem"><a href="#4.5" class="nav-sublink">4.5 Настройка параметров консоли</a></li>
            <li class="nav-subitem"><a href="#4.6" class="nav-sublink">4.6 Настройка сторожевого таймера</a></li>
            <li class="nav-subitem"><a href="#4.7" class="nav-sublink">4.7 Настройка виртуального NUMA</a></li>
            <li class="nav-subitem"><a href="#4.8" class="nav-sublink">4.8 Настройка headless-виртуальных машин</a></li>
            <li class="nav-subitem"><a href="#4.9" class="nav-sublink">4.9 Настройка высокопроизводительных виртуальных машин, шаблонов и пулов</a></li>
          </ul>
        </details>
        <details id="sec5">
          <summary>5. Редактирование виртуальных машин</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#5.1" class="nav-sublink">5.1 Редактирование свойств виртуальной машины</a></li>
            <details class="subgroup">
              <summary>5.2 Сетевые интерфейсы</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#5.2.1" class="nav-sublink">5.2.1 Добавление нового сетевого интерфейса</a></li>
                <li class="nav-subitem"><a href="#5.2.2" class="nav-sublink">5.2.2 Редактирование сетевого интерфейса</a></li>
                <li class="nav-subitem"><a href="#5.2.3" class="nav-sublink">5.2.3 Горячее подключение сетевого интерфейса</a></li>
                <li class="nav-subitem"><a href="#5.2.4" class="nav-sublink">5.2.4 Удаление сетевого интерфейса</a></li>
                <li class="nav-subitem"><a href="#5.2.5" class="nav-sublink">5.2.5 Внесение сетевых интерфейсов в черный список</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>5.3 Виртуальные диски</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#5.3.1" class="nav-sublink">5.3.1 Добавление нового виртуального диска</a></li>
                <li class="nav-subitem"><a href="#5.3.2" class="nav-sublink">5.3.2 Присоединение существующего диска к виртуальной машине</a></li>
                <li class="nav-subitem"><a href="#5.3.3" class="nav-sublink">5.3.3 Увеличение доступного размера виртуального диска</a></li>
                <li class="nav-subitem"><a href="#5.3.4" class="nav-sublink">5.3.4 Горячее подключение виртуального диска</a></li>
                <li class="nav-subitem"><a href="#5.3.5" class="nav-sublink">5.3.5 Удаление виртуального диска с виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#5.3.6" class="nav-sublink">5.3.6 Импорт образа диска</a></li>
                <li class="nav-subitem"><a href="#5.3.7" class="nav-sublink">5.3.7 Импорт незарегистрированного образа диска</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>5.4 Виртуальная память</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#5.4.1" class="nav-sublink">5.4.1 Горячее подключение виртуальной памяти</a></li>
                <li class="nav-subitem"><a href="#5.4.2" class="nav-sublink">5.4.2 Горячее отключение виртуальной памяти</a></li>
              </ul>
            </details>
            <li class="nav-subitem"><a href="#5.5" class="nav-sublink">5.5 Горячее подключение виртуальных ЦП</a></li>
            <li class="nav-subitem"><a href="#5.6" class="nav-sublink">5.6 Прикрепление виртуальной машины к нескольким хостам</a></li>
            <li class="nav-subitem"><a href="#5.7" class="nav-sublink">5.7 Просмотр виртуальных машин, закрепленных на хосте</a></li>
            <li class="nav-subitem"><a href="#5.8" class="nav-sublink">5.8 Смена компакт-диска на виртуальную машину</a></li>
            <li class="nav-subitem"><a href="#5.9" class="nav-sublink">5.9 Проверка подлинности смарт-карты</a></li>
          </ul>
        </details>
        <details id="sec6">
          <summary>6. Административные задачи</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#6.1" class="nav-sublink">6.1 Завершение работы виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#6.2" class="nav-sublink">6.2 Приостановка виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#6.3" class="nav-sublink">6.3 Перезагрузка виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#6.4" class="nav-sublink">6.4 Удаление виртуальной машины</a></li>
            <li class="nav-subitem"><a href="#6.5" class="nav-sublink">6.5 Клонирование виртуальной машины</a></li>
            <details class="subgroup">
              <summary>6.6 Обновление гостевых агентов и драйверов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.6.1" class="nav-sublink">6.6.1 Обновление гостевых агентов и драйверов в РЕД ОС</a></li>
                <li class="nav-subitem"><a href="#6.6.2" class="nav-sublink">6.6.2 Обновление гостевых агентов и драйверов в Windows</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.7 Снимки</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.7.1" class="nav-sublink">6.7.1 Создание снимка виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#6.7.2" class="nav-sublink">6.7.2 Использование снимка для восстановления виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#6.7.3" class="nav-sublink">6.7.3 Создание виртуальной машины из снимка</a></li>
                <li class="nav-subitem"><a href="#6.7.4" class="nav-sublink">6.7.4 Удаление снимка</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.8 Хост-устройства</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.8.1" class="nav-sublink">6.8.1 Добавление хост-устройства к виртуальной машине</a></li>
                <li class="nav-subitem"><a href="#6.8.2" class="nav-sublink">6.8.2 Удаление хост-устройств с виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#6.8.3" class="nav-sublink">6.8.3 Прикрепление виртуальной машины к другому хосту</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.9 Группы по интересам</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.9.1" class="nav-sublink">6.9.1 Создание группы по интересам</a></li>
                <li class="nav-subitem"><a href="#6.9.2" class="nav-sublink">6.9.2 Редактирование группы по интересам</a></li>
                <li class="nav-subitem"><a href="#6.9.3" class="nav-sublink">6.9.3 Удаление группы по интересам</a></li>
                <li class="nav-subitem"><a href="#6.9.4" class="nav-sublink">6.9.4 Примеры групп по интересам</a></li>
                <li class="nav-subitem"><a href="#6.9.5" class="nav-sublink">6.9.5 Устранение неполадок группы по интересам</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.10 Метки соответствия</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.10.1" class="nav-sublink">6.10.1 Создание метки соответствия</a></li>
                <li class="nav-subitem"><a href="#6.10.2" class="nav-sublink">6.10.2 Редактирование метки соответствия</a></li>
                <li class="nav-subitem"><a href="#6.10.3" class="nav-sublink">6.10.3 Удаление метки соответствия</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.11 Экспорт и импорт виртуальных машин и шаблонов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.11.1" class="nav-sublink">6.11.1 Экспорт виртуальной машины в экспортный домен</a></li>
                <li class="nav-subitem"><a href="#6.11.2" class="nav-sublink">6.11.2 Экспорт виртуальной машины в домен данных</a></li>
                <li class="nav-subitem"><a href="#6.11.3" class="nav-sublink">6.11.3 Импорт виртуальной машины из экспортного домена</a></li>
                <li class="nav-subitem"><a href="#6.11.4" class="nav-sublink">6.11.4 Импорт виртуальной машины от поставщика VMware</a></li>
                <li class="nav-subitem"><a href="#6.11.5" class="nav-sublink">6.11.5 Экспорт виртуальной машины на хост</a></li>
                <li class="nav-subitem"><a href="#6.11.6" class="nav-sublink">6.11.6 Импорт виртуальной машины с хоста</a></li>
                <li class="nav-subitem"><a href="#6.11.7" class="nav-sublink">6.11.7 Импорт виртуальной машины с узла KVM</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.12 Перенос виртуальных машин между хостами</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.12.1" class="nav-sublink">6.12.1 Предварительные условия для живой миграции</a></li>
                <li class="nav-subitem"><a href="#6.12.2" class="nav-sublink">6.12.2 Оптимизация живой миграции</a></li>
                <li class="nav-subitem"><a href="#6.12.3" class="nav-sublink">6.12.3 Хуки для гостевого агента</a></li>
                <li class="nav-subitem"><a href="#6.12.4" class="nav-sublink">6.12.4 Автоматическая миграция виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#6.12.5" class="nav-sublink">6.12.5 Предотвращение автоматической миграции виртуальной машины</a></li>
                <li class="nav-subitem"><a href="#6.12.6" class="nav-sublink">6.12.6 Перенос виртуальных машин вручную</a></li>
                <li class="nav-subitem"><a href="#6.12.7" class="nav-sublink">6.12.7 Установка приоритета миграции</a></li>
                <li class="nav-subitem"><a href="#6.12.8" class="nav-sublink">6.12.8 Отмена текущей миграции виртуальных машин</a></li>
                <li class="nav-subitem"><a href="#6.12.9" class="nav-sublink">6.12.9 Уведомление о событиях и журналах при автоматической миграции</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.13 Повышение времени безотказной работы за счет высокой доступности виртуальных машин</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.13.1" class="nav-sublink">6.13.1 Что такое высокая доступность?</a></li>
                <li class="nav-subitem"><a href="#6.13.2" class="nav-sublink">6.13.2 Рекомендации по обеспечению высокой доступности</a></li>
                <li class="nav-subitem"><a href="#6.13.3" class="nav-sublink">6.13.3 Настройка высокодоступной виртуальной машины</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.14 Другие задачи виртуальной машины</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.14.1" class="nav-sublink">6.14.1 Включение мониторинга SAP</a></li>
                <li class="nav-subitem"><a href="#6.14.2" class="nav-sublink">6.14.2 Настройка виртуальных машин РЕД ОС для использования SPICE</a></li>
                <li class="nav-subitem"><a href="#6.14.3" class="nav-sublink">6.14.3 Управление синхронизацией виртуальной машины KVM</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>6.15 Управление консольными сессиями пользователей</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#6.15.1" class="nav-sublink">6.15.1 Текущие активные сессии пользователей</a></li>
                <li class="nav-subitem"><a href="#6.15.2" class="nav-sublink">6.15.2 Прерывание активных сессий пользователей</a></li>
              </ul>
            </details>
          </ul>
        </details>
        <details id="sec7">
          <summary>7. Шаблоны</summary>
          <ul class="nav-sublist">
            <details class="subgroup">
              <summary>7.1 Запечатывание виртуальных машин</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.1.1" class="nav-sublink">7.1.1 Описание</a></li>
                <li class="nav-subitem"><a href="#7.1.2" class="nav-sublink">7.1.2 Запечатывание виртуальной машины Linux</a></li>
                <li class="nav-subitem"><a href="#7.1.3" class="nav-sublink">7.1.3 Запечатывание виртуальной машины Windows</a></li>
              </ul>
            </details>
            <li class="nav-subitem"><a href="#7.2" class="nav-sublink">7.2 Создание шаблона</a></li>
            <li class="nav-subitem"><a href="#7.3" class="nav-sublink">7.3 Редактирование шаблона</a></li>
            <li class="nav-subitem"><a href="#7.4" class="nav-sublink">7.4 Удаление шаблона</a></li>
            <details class="subgroup">
              <summary>7.5 Экспорт шаблонов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.5.1" class="nav-sublink">7.5.1 Перенос шаблонов в экспортный домен</a></li>
                <li class="nav-subitem"><a href="#7.5.2" class="nav-sublink">7.5.2 Копирование шаблона виртуального жесткого диска</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>7.6 Импорт шаблонов</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.6.1" class="nav-sublink">7.6.1 Импорт шаблона в центр обработки данных</a></li>
                <li class="nav-subitem"><a href="#7.6.2" class="nav-sublink">7.6.2 Импорт виртуального диска из службы образов OpenStack</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>7.7 Шаблоны и разрешения</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.7.1" class="nav-sublink">7.7.1 Управление системными разрешениями для шаблона</a></li>
                <li class="nav-subitem"><a href="#7.7.2" class="nav-sublink">7.7.2 Назначение ресурсу роли администратора или пользователя</a></li>
                <li class="nav-subitem"><a href="#7.7.3" class="nav-sublink">7.7.3 Удаление роли администратора или пользователя из ресурса</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>7.8 Использование Cloud-Init</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.8.1" class="nav-sublink">7.8.1 Сценарии использования Cloud-Init</a></li>
                <li class="nav-subitem"><a href="#7.8.2" class="nav-sublink">7.8.2 Установка Cloud-Init</a></li>
                <li class="nav-subitem"><a href="#7.8.3" class="nav-sublink">7.8.3 Использование Cloud-Init для подготовки шаблона</a></li>
                <li class="nav-subitem"><a href="#7.8.4" class="nav-sublink">7.8.4 Использование Cloud-Init для инициализации виртуальной машины</a></li>
              </ul>
            </details>
            <details class="subgroup">
              <summary>7.9 Использование Sysprep</summary>
              <ul class="nav-sublist">
                <li class="nav-subitem"><a href="#7.9.1" class="nav-sublink">7.9.1 Настройка Sysprep на шаблоне</a></li>
                <li class="nav-subitem"><a href="#7.9.2" class="nav-sublink">7.9.2 Использование Sysprep для инициализации виртуальной машины</a></li>
              </ul>
            </details>
            <li class="nav-subitem"><a href="#7.10" class="nav-sublink">7.10 Создание виртуальной машины на основе шаблона</a></li>
            <li class="nav-subitem"><a href="#7.11" class="nav-sublink">7.11 Создание клонированной виртуальной машины</a></li>
          </ul>
        </details>
        <details id="sec8">
          <summary>8. Группы виртуальных машин</summary>
          <ul class="nav-sublist">
            <li class="nav-subitem"><a href="#8.1" class="nav-sublink">8.1 Создание группы ВМ</a></li>
            <li class="nav-subitem"><a href="#8.2" class="nav-sublink">8.2 Назначение прав доступа группе ВМ</a></li>
            <li class="nav-subitem"><a href="#8.3" class="nav-sublink">8.3 Добавление новой виртуальной машины в группу ВМ</a></li>
            <li class="nav-subitem"><a href="#8.4" class="nav-sublink">8.4 Добавление существующей виртуальной машины в группу ВМ</a></li>
            <li class="nav-subitem"><a href="#8.5" class="nav-sublink">8.5 Перемещение нескольких виртуальных машин в группу ВМ</a></li>
          </ul>
        </details>
      </details>
      <details id="FAQ-section">
        <summary>Часто задаваемые вопросы (FAQ)</summary>
      </details>
      <details id="repo-section">
        <summary>Репозитории обновления РЕД Виртуализация</summary>
      </details>
      <details id="update-section">
        <summary>Информация об обновлениях</summary>
      </details>
    </aside>

    <!-- Основной контент -->
    <main class="content">
      Выберите раздел в левом меню, чтобы перейти к нужной теме.
    </main>
  </div>

  <!-- Подвал -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-col">
        <div class="footer-logo">
          <span style="color: #333; font-weight: bold; font-size: 1.4em;">РЕДСОФТ</span>
        </div>
        <h4>Мы в соцсетях</h4>
        <div class="social-links">
          <a href="#" class="social-icon">VK</a>
          <a href="#" class="social-icon">TG</a>
          <a href="#" class="social-icon">YT</a>
          <a href="#" class="social-icon">FB</a>
        </div>
        <p>Все публичные ресурсы РЕД СОФТ</p>
        <address>
          121205, г. Москва,<br />
          Сколково, ул. Нобеля д.5, пом.4
        </address>
        <p><strong>+7 (495) 285-62-68</strong></p>
        <p><a href="mailto:info@red-soft.ru">info@red-soft.ru</a></p>
        <div class="copyright">
          <p>© РЕД СОФТ 2014-2025</p>
          <p>Сайт компании: <a href="https://red-soft.ru">red-soft.ru</a></p>
        </div>
      </div>
      <div class="footer-col">
        <h3>О Продукте</h3>
        <ul>
          <li><a href="#">РЕД Виртуализация</a></li>
          <li><a href="#">Обновления</a></li>
          <li><a href="#">Дорожная карта</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>Техподдержка</h3>
        <ul>
          <li><a href="#">База знаний</a></li>
          <li><a href="#">Документация</a></li>
        </ul>
        <h3>Обучение</h3>
        <ul>
          <li><a href="#">Учебные курсы</a></li>
          <li><a href="#">Образовательным учреждениям</a></li>
          <li><a href="#">Образовательный курс</a></li>
          <li><a href="#">Проверка сертификата</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>О компании</h3>
        <ul>
          <li><a href="#">Контакты</a></li>
        </ul>
        <h3>Новости</h3>
        <ul>
          <li><a href="#">Стать партнером</a></li>
          <li><a href="#">Совместимое оборудование и ПО</a></li>
          <li><a href="#">Обучение</a></li>
          <li><a href="#">Вакансии</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- Скрипты -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const contentArea = document.querySelector('.content');
      const links = document.querySelectorAll('.nav-sublink');

      // === Специальный обработчик для "Репозитории обновления РЕД Виртуализация" ===
      const repoSection = document.querySelector('#repo-section summary');
      if (repoSection) {
        repoSection.addEventListener('click', function (e) {
          e.preventDefault();
          contentArea.innerHTML = `
            <h2 style="margin-bottom: 16px; color: #2c3e50; font-family: 'Inter', sans-serif; font-weight: 600;">Репозитории обновлений для РЕД Виртуализация</h2>
            <ul style="list-style-type: disc; margin-left: 24px; color: #555;">
              <li><strong>Обновления хоста:</strong> <a href="http://repo.red-soft.ru/virtualization/7.3/host-updates/x86_64/os/" target="_blank">http://repo.red-soft.ru/virtualization/7.3/host-updates/x86_64/os/</a><br>
              Зеркало: <a href="https://repo1.red-soft.ru/virtualization/7.3/host-updates/x86_64/os/" target="_blank">https://repo1.red-soft.ru/virtualization/7.3/host-updates/x86_64/os/</a></li>
              <li><strong>Обновления ВМ управления (Engine):</strong> <a href="http://repo.red-soft.ru/virtualization/7.3/engine-updates/x86_64/os/" target="_blank">http://repo.red-soft.ru/virtualization/7.3/engine-updates/x86_64/os/</a><br>
              Зеркало: <a href="https://repo1.red-soft.ru/virtualization/7.3/engine-updates/x86_64/os/" target="_blank">https://repo1.red-soft.ru/virtualization/7.3/engine-updates/x86_64/os/</a></li>
            </ul>
          `;
        });
      }

      // === Обычные пункты меню ===
      function loadContent(link) {
        links.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        const title = link.getAttribute('data-title') || link.textContent;
        const text = link.getAttribute('data-content') || 'Контент временно недоступен.';
        contentArea.innerHTML = `
          <h2 style="margin-bottom: 16px; color: #2c3e50; font-family: 'Inter', sans-serif; font-weight: 600;">${title}</h2>
          <p>${text.replace(/\n/g, '<br>')}</p>
        `;
      }

      links.forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          loadContent(this);
          history.pushState(null, '', this.getAttribute('href'));
        });
      });

      // Обработчики для специальных разделов без подменю
          const specialSummaries = [
          document.querySelector('#admin_rv-section summary'),
          document.querySelector('#FAQ-section summary'),
          document.querySelector('#update-section summary')
          ];

          specialSummaries.forEach(summary => {
          if (summary) {
            summary.addEventListener('click', function(e) {
              e.preventDefault();
              contentArea.innerHTML = `
                <h2 style="margin-bottom: 16px; color: #2c3e50; font-family: 'Inter', sans-serif; font-weight: 600;">
                  ${this.textContent.trim()}
                </h2>
                <p>Контент временно недоступен.</p>
              `;
            });
          }
          });

      // Обработка хеша при загрузке
      const hash = window.location.hash;
      if (hash) {
        const link = document.querySelector(`a[href="${hash}"]`);
        if (link && link.hasAttribute('data-content')) {
          loadContent(link);
          let parent = link.closest('details');
          while (parent) {
            parent.open = true;
            parent = parent.parentElement ? parent.parentElement.closest('details') : null;
          }
          setTimeout(() => {
            link.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 300);
        }
      }
    });

    // === Поиск ===
    function searchPage() {
      const query = document.getElementById('searchInput').value.trim();
      if (!query) {
        clearSearchResults();
        return;
      }
      clearSearchResults();
      const content = document.querySelector('.content');
      if (!content) return;
      if (!content.dataset.originalContent) {
        content.dataset.originalContent = content.innerHTML;
      }
      const regex = new RegExp('(' + escapeRegExp(query) + ')', 'gi');
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = content.dataset.originalContent;
      const walker = document.createTreeWalker(tempDiv, NodeFilter.SHOW_TEXT, null, false);
      let node;
      while ((node = walker.nextNode())) {
        if (node.nodeValue && regex.test(node.nodeValue)) {
          const span = document.createElement('span');
          span.innerHTML = node.nodeValue.replace(regex, '<mark>$1</mark>');
          node.parentNode.replaceChild(span, node);
        }
      }
      content.innerHTML = tempDiv.innerHTML;
      const firstMatch = content.querySelector('mark');
      if (firstMatch) {
        firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }

    function clearSearchResults() {
      const content = document.querySelector('.content');
      if (content && content.dataset.originalContent) {
        content.innerHTML = content.dataset.originalContent;
      }
    }

    function clearSearchInput() {
      document.getElementById('searchInput').value = '';
      clearSearchResults();
      document.getElementById('searchInput').focus();
    }

    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }
  </script>
</body>
</html>
